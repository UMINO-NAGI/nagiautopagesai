<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAGI AUTO PAGES AI - Criador Autom√°tico de Landing Pages</title>
    
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Scripts -->
    <script src="app.js" defer></script>
    
    <style>
        /* Estilos cr√≠ticos */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Tela de Login -->
    <div id="login-screen" class="screen">
        <div class="login-container">
            <!-- Cabe√ßalho -->
            <div class="login-header">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                    <div class="logo-text">
                        <h1>NAGI AUTO PAGES AI</h1>
                        <p class="tagline">Produzido pela NAGI TECHNOLOGY S.A.</p>
                    </div>
                </div>
                <div class="badge">üî• IA Generativa</div>
            </div>
            
            <!-- Conte√∫do Principal -->
            <div class="login-content">
                <div class="hero-section">
                    <h2>Crie Landing Pages Profissionais <span class="highlight">em 30 Segundos</span></h2>
                    <p class="description">
                        Descreva seu produto/servi√ßo e nossa IA gera uma p√°gina completa, otimizada para convers√£o e pronta para vender.
                    </p>
                    
                    <div class="features">
                        <div class="feature">
                            <i class="fas fa-bolt"></i>
                            <span>Gera√ß√£o Instant√¢nea</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-mobile-alt"></i>
                            <span>100% Responsiva</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-shopping-cart"></i>
                            <span>Pagamento Seguro</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-infinity"></i>
                            <span>Ilimitado por 30 dias</span>
                        </div>
                    </div>
                </div>
                
                <!-- √Årea de Login -->
                <div class="auth-section">
                    <h3>Comece Agora - Plano Mensal $10 USD</h3>
                    <p class="auth-description">
                        Fa√ßa login com Google e ative seu plano mensal para criar p√°ginas ilimitadas.
                    </p>
                    
                    <!-- Google Sign-In Button -->
                    <div id="google-signin-container" class="google-signin">
                        <div id="g_id_onload"
                             data-client_id="225104795498-n1j744vsopftf38hnf8oecona7eqkojr.apps.googleusercontent.com"
                             data-context="signin"
                             data-ux_mode="popup"
                             data-callback="handleGoogleSignIn"
                             data-auto_prompt="false">
                        </div>
                        <div class="g_id_signin"
                             data-type="standard"
                             data-size="large"
                             data-theme="filled_blue"
                             data-text="continue_with"
                             data-shape="pill"
                             data-logo_alignment="left">
                        </div>
                    </div>
                    
                    <p class="demo-note">
                        <i class="fas fa-info-circle"></i> 
                        Problemas com login? <a href="#" id="demo-login-link">Use acesso de demonstra√ß√£o</a>
                    </p>
                    
                    <div class="security-info">
                        <p><i class="fas fa-lock"></i> Login 100% seguro com Google</p>
                        <p><i class="fas fa-shield-alt"></i> Nenhuma senha armazenada</p>
                        <p><i class="fas fa-user-secret"></i> Seus dados s√£o privados</p>
                    </div>
                </div>
            </div>
            
            <!-- Rodap√© -->
            <div class="login-footer">
                <div class="payment-info">
                    <div class="plan-card">
                        <div class="plan-header">
                            <h4>Plano Mensal NAGI</h4>
                            <div class="price">$10 <span>USD/m√™s</span></div>
                        </div>
                        <ul class="plan-features">
                            <li><i class="fas fa-check"></i> Landing pages ilimitadas</li>
                            <li><i class="fas fa-check"></i> Design profissional autom√°tico</li>
                            <li><i class="fas fa-check"></i> HTML pronto para usar</li>
                            <li><i class="fas fa-check"></i> Validade: 30 dias</li>
                            <li><i class="fas fa-check"></i> Suporte por email</li>
                        </ul>
                    </div>
                </div>
                
                <div class="copyright">
                    <p>¬© 2024 NAGI TECHNOLOGY S.A. - Todos os direitos reservados</p>
                    <p class="signature">UMINO NAGI - I WAS HEREüçÄ</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Tela Principal (Ap√≥s Login) -->
    <div id="main-screen" class="screen hidden">
        <!-- Cabe√ßalho Principal -->
        <header class="main-header">
            <div class="header-container">
                <div class="header-left">
                    <div class="brand">
                        <i class="fas fa-robot"></i>
                        <div class="brand-text">
                            <h2>NAGI AUTO PAGES AI</h2>
                            <p>Gerador Autom√°tico de Landing Pages</p>
                        </div>
                    </div>
                    
                    <div class="user-info" id="user-info">
                        <div class="user-avatar" id="user-avatar">
                            <!-- Avatar ser√° inserido aqui -->
                        </div>
                        <div class="user-details">
                            <span class="user-name" id="user-name">Usu√°rio</span>
                            <span class="user-email" id="user-email">email@exemplo.com</span>
                        </div>
                    </div>
                </div>
                
                <div class="header-right">
                    <div class="plan-status" id="plan-status">
                        <div class="plan-indicator" id="plan-indicator">
                            <i class="fas fa-crown"></i>
                            <span id="plan-text">Plano Ativo</span>
                        </div>
                        <div class="plan-days" id="plan-days">
                            <i class="fas fa-calendar-alt"></i>
                            <span id="days-left">30 dias restantes</span>
                        </div>
                    </div>
                    
                    <div class="header-actions">
                        <button id="new-page-btn" class="btn-primary">
                            <i class="fas fa-plus"></i> Nova P√°gina
                        </button>
                        <button id="payment-btn" class="btn-secondary">
                            <i class="fas fa-shopping-cart"></i> Gerenciar Plano
                        </button>
                        <button id="logout-btn" class="btn-logout">
                            <i class="fas fa-sign-out-alt"></i> Sair
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Conte√∫do Principal -->
        <main class="main-content">
            <!-- Painel de Cria√ß√£o (Esquerda) -->
            <div class="creation-panel">
                <div class="panel-header">
                    <h3><i class="fas fa-magic"></i> Criar Nova Landing Page</h3>
                    <p class="panel-subtitle">Preencha os detalhes e nossa IA gera uma p√°gina completa</p>
                </div>
                
                <div class="creation-form">
                    <!-- Produto/Servi√ßo -->
                    <div class="form-group">
                        <label for="product-name">
                            <i class="fas fa-tag"></i> Nome do Produto/Servi√ßo
                        </label>
                        <input type="text" id="product-name" placeholder="Ex: Curso de Marketing Digital Avan√ßado" class="form-input">
                    </div>
                    
                    <!-- Descri√ß√£o -->
                    <div class="form-group">
                        <label for="product-description">
                            <i class="fas fa-edit"></i> Descri√ß√£o Detalhada
                        </label>
                        <textarea id="product-description" rows="4" class="form-textarea" placeholder="Descreva o que voc√™ vende, benef√≠cios principais, caracter√≠sticas √∫nicas..."></textarea>
                    </div>
                    
                    <!-- P√∫blico-Alvo -->
                    <div class="form-group">
                        <label for="target-audience">
                            <i class="fas fa-users"></i> P√∫blico-Alvo
                        </label>
                        <input type="text" id="target-audience" placeholder="Ex: Empreendedores, Profissionais de Marketing" class="form-input">
                    </div>
                    
                    <!-- Estilo da P√°gina -->
                    <div class="form-group">
                        <label for="page-style">
                            <i class="fas fa-palette"></i> Estilo da P√°gina
                        </label>
                        <select id="page-style" class="form-select">
                            <option value="modern">Moderno & Profissional</option>
                            <option value="bold">Bold & Impactante</option>
                            <option value="elegant">Elegante & Premium</option>
                            <option value="clean">Clean & Minimalista</option>
                        </select>
                    </div>
                    
                    <!-- Recursos Inclu√≠dos -->
                    <div class="included-features">
                        <h4><i class="fas fa-check-circle"></i> Inclui automaticamente:</h4>
                        <div class="features-grid">
                            <div class="feature-item">
                                <i class="fas fa-heading"></i>
                                <span>Headline persuasivo</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-star"></i>
                                <span>Se√ß√£o de benef√≠cios</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-shopping-cart"></i>
                                <span>Call-to-action otimizado</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-comment-alt"></i>
                                <span>√Årea de depoimentos</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-question-circle"></i>
                                <span>FAQ autom√°tico</span>
                            </div>
                            <div class="feature-item">
                                <i class="fas fa-mobile-alt"></i>
                                <span>Design 100% responsivo</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bot√£o de Gera√ß√£o -->
                    <button id="generate-btn" class="generate-button" disabled>
                        <i class="fas fa-bolt"></i>
                        <span>Gerar Landing Page</span>
                    </button>
                    
                    <!-- Status -->
                    <div class="generation-status" id="generation-status">
                        <div class="status-message" id="status-message">
                            Fa√ßa login e ative seu plano para come√ßar
                        </div>
                    </div>
                </div>
                
                <!-- Hist√≥rico de P√°ginas -->
                <div class="history-section">
                    <h4><i class="fas fa-history"></i> Suas P√°ginas Criadas</h4>
                    <div class="pages-list" id="pages-list">
                        <!-- P√°ginas ser√£o carregadas aqui -->
                        <div class="empty-history">
                            <i class="fas fa-file-alt"></i>
                            <p>Nenhuma p√°gina criada ainda</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Painel de Preview (Direita) -->
            <div class="preview-panel">
                <div class="preview-header">
                    <h3><i class="fas fa-eye"></i> Preview da Landing Page</h3>
                    <div class="preview-controls">
                        <div class="device-toggle">
                            <button class="device-btn active" data-device="desktop">
                                <i class="fas fa-desktop"></i> Desktop
                            </button>
                            <button class="device-btn" data-device="mobile">
                                <i class="fas fa-mobile-alt"></i> Mobile
                            </button>
                        </div>
                        <div class="preview-actions">
                            <button id="copy-html-btn" class="action-btn" disabled>
                                <i class="fas fa-copy"></i> Copiar HTML
                            </button>
                            <button id="download-btn" class="action-btn" disabled>
                                <i class="fas fa-download"></i> Baixar
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Container do Preview -->
                <div class="preview-container">
                    <div class="preview-wrapper" id="preview-wrapper">
                        <!-- Preview Desktop -->
                        <div class="desktop-preview active" id="desktop-preview">
                            <div class="browser-bar">
                                <div class="browser-dots">
                                    <span class="dot red"></span>
                                    <span class="dot yellow"></span>
                                    <span class="dot green"></span>
                                </div>
                                <div class="browser-url">https://seusite.com/landing-page</div>
                            </div>
                            <div class="preview-content" id="preview-content">
                                <!-- Conte√∫do da landing page ser√° injetado aqui -->
                                <div class="empty-preview">
                                    <i class="fas fa-rocket"></i>
                                    <h4>Sua landing page aparecer√° aqui</h4>
                                    <p>Preencha os detalhes do produto e clique em "Gerar Landing Page"</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Preview Mobile -->
                        <div class="mobile-preview" id="mobile-preview">
                            <div class="mobile-frame">
                                <div class="mobile-notch"></div>
                                <div class="mobile-content" id="mobile-content">
                                    <!-- Conte√∫do mobile ser√° injetado aqui -->
                                    <div class="empty-preview">
                                        <i class="fas fa-rocket"></i>
                                        <h4>Sua landing page aparecer√° aqui</h4>
                                        <p>Preencha os detalhes do produto e clique em "Gerar Landing Page"</p>
                                    </div>
                                </div>
                                <div class="mobile-home"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Informa√ß√µes do Preview -->
                    <div class="preview-info">
                        <div class="info-item">
                            <i class="fas fa-code"></i>
                            <span>HTML limpo e sem√¢ntico</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-paint-brush"></i>
                            <span>CSS otimizado</span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-bolt"></i>
                            <span>Carrega em menos de 2s</span>
                        </div>
                    </div>
                </div>
                
                <!-- Estat√≠sticas -->
                <div class="stats-section">
                    <div class="stat-card">
                        <i class="fas fa-file-alt"></i>
                        <div class="stat-content">
                            <span class="stat-number" id="total-pages">0</span>
                            <span class="stat-label">P√°ginas criadas</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-alt"></i>
                        <div class="stat-content">
                            <span class="stat-number" id="days-remaining">0</span>
                            <span class="stat-label">Dias restantes</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-infinity"></i>
                        <div class="stat-content">
                            <span class="stat-number">‚àû</span>
                            <span class="stat-label">Cria√ß√µes restantes</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Rodap√© Principal -->
        <footer class="main-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-brand">
                        <i class="fas fa-robot"></i>
                        <div>
                            <strong>NAGI AUTO PAGES AI</strong>
                            <p>Produzido pela NAGI TECHNOLOGY S.A.</p>
                        </div>
                    </div>
                    <div class="footer-links">
                        <a href="#"><i class="fas fa-question-circle"></i> Ajuda</a>
                        <a href="#"><i class="fas fa-shield-alt"></i> Privacidade</a>
                        <a href="#"><i class="fas fa-file-contract"></i> Termos</a>
                        <a href="#"><i class="fas fa-envelope"></i> Contato</a>
                    </div>
                </div>
                <div class="footer-signature">
                    UMINO NAGI - I WAS HEREüçÄ
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal de Pagamento -->
    <div id="payment-modal" class="modal-overlay hidden">
        <div class="modal-container">
            <div class="modal-header">
                <h2><i class="fas fa-shopping-cart"></i> Gerenciar Plano</h2>
                <button class="modal-close">&times;</button>
            </div>
            
            <div class="modal-content">
                <!-- Informa√ß√µes do Plano Atual -->
                <div class="current-plan" id="current-plan-info">
                    <h3>Seu Plano Atual</h3>
                    <div class="plan-details">
                        <div class="plan-status-badge" id="plan-status-badge">
                            <i class="fas fa-crown"></i>
                            <span>Plano Mensal Ativo</span>
                        </div>
                        <div class="plan-data">
                            <div class="data-item">
                                <span class="label">V√°lido at√©:</span>
                                <span class="value" id="plan-valid-until">--/--/----</span>
                            </div>
                            <div class="data-item">
                                <span class="label">Dias restantes:</span>
                                <span class="value" id="plan-days-left">0</span>
                            </div>
                            <div class="data-item">
                                <span class="label">P√°ginas criadas:</span>
                                <span class="value" id="plan-pages-created">0</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Nova Aquisi√ß√£o -->
                <div class="new-plan">
                    <h3>Renovar/Adquirir Plano</h3>
                    <div class="plan-options">
                        <div class="plan-option active">
                            <div class="option-header">
                                <h4>Plano Mensal</h4>
                                <div class="price">$10 <span>USD</span></div>
                            </div>
                            <ul class="option-features">
                                <li><i class="fas fa-check"></i> Landing pages ilimitadas</li>
                                <li><i class="fas fa-check"></i> Validade: 30 dias</li>
                                <li><i class="fas fa-check"></i> Design profissional</li>
                                <li><i class="fas fa-check"></i> HTML pronto para usar</li>
                                <li><i class="fas fa-check"></i> Suporte priorit√°rio</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Processo de Pagamento -->
                    <div class="payment-process">
                        <h4><i class="fab fa-paypal"></i> Pagamento via PayPal</h4>
                        <p class="payment-description">
                            Clique no bot√£o abaixo para pagar $10 USD via PayPal. Ap√≥s o pagamento, voc√™ receber√° um c√≥digo de ativa√ß√£o por email.
                        </p>
                        
                        <a href="https://www.paypal.com/ncp/payment/QNS8AAHSEPVG8" target="_blank" class="paypal-button">
                            <i class="fab fa-paypal"></i> Pagar $10 USD com PayPal
                        </a>
                        
                        <div class="payment-note">
                            <i class="fas fa-info-circle"></i> Voc√™ ser√° redirecionado para a p√°gina segura do PayPal.
                        </div>
                    </div>
                    
                    <!-- Ativa√ß√£o do C√≥digo -->
                    <div class="code-activation">
                        <h4><i class="fas fa-key"></i> Ativar com C√≥digo</h4>
                        <p class="activation-description">
                            J√° fez o pagamento? Digite o c√≥digo de 6 d√≠gitos recebido por email:
                        </p>
                        
                        <div class="code-input-group">
                            <input type="text" 
                                   id="activation-code-input" 
                                   placeholder="Digite o c√≥digo (ex: 123456)" 
                                   maxlength="6"
                                   pattern="[0-9]{6}">
                            <button id="activate-code-btn" class="activate-button">
                                <i class="fas fa-check"></i> Ativar Plano
                            </button>
                        </div>
                        
                        <div class="activation-status" id="activation-status">
                            <!-- Status ser√° mostrado aqui -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn-secondary close-payment-modal">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal do Painel Admin -->
    <div id="admin-modal" class="modal-overlay hidden">
        <div class="modal-container admin-modal">
            <div class="modal-header">
                <h2><i class="fas fa-shield-alt"></i> Painel Administrativo NAGI</h2>
                <button class="modal-close">&times;</button>
            </div>
            
            <div class="modal-content">
                <!-- Painel ser√° preenchido via JavaScript -->
                <div id="admin-content"></div>
            </div>
            
            <div class="modal-footer">
                <button class="btn-secondary close-admin-modal">Fechar Painel</button>
            </div>
        </div>
    </div>

    <!-- Notifica√ß√µes -->
    <div id="notification-container"></div>

    <!-- Scripts -->
    <script>
        // Configura√ß√£o inicial do Google Sign-In
        window.handleGoogleSignIn = function(response) {
            console.log('Google Sign-In response:', response);
            
            try {
                if (!response || !response.credential) {
                    console.error('No credential received');
                    return;
                }
                
                // Decodificar o JWT token
                const token = response.credential;
                const payload = JSON.parse(atob(token.split('.')[1]));
                
                console.log('Decoded payload:', payload);
                
                // Em produ√ß√£o, aqui voc√™ enviaria o token para seu backend
                // Para demo, vamos usar os dados do token
                const user = {
                    id: payload.sub || 'user_' + Date.now(),
                    name: payload.name || 'Usu√°rio Google',
                    email: payload.email || 'usuario@gmail.com',
                    picture: payload.picture || null
                };
                
                // Chamar fun√ß√£o principal do app.js
                if (window.app && window.app.handleUserLogin) {
                    window.app.handleUserLogin(user);
                } else {
                    console.error('App functions not loaded');
                    // Fallback para demo
                    alert('Login bem-sucedido! Sistema carregando...');
                    window.location.reload();
                }
                
            } catch (error) {
                console.error('Error handling Google Sign-In:', error);
                // Fallback para modo demonstra√ß√£o
                if (window.app && window.app.handleDemoLogin) {
                    window.app.handleDemoLogin();
                } else {
                    alert('Erro no login. Tente novamente ou use o acesso de demonstra√ß√£o.');
                }
            }
        };
        
        // Inicializar Google Sign-In quando o DOM estiver carregado
        document.addEventListener('DOMContentLoaded', function() {
            // Se n√£o carregar o Google Sign-In em 3 segundos, mostra op√ß√£o de demo
            setTimeout(function() {
                if (!window.google || !window.google.accounts) {
                    console.log('Google Sign-In not loaded, showing demo option');
                    document.getElementById('demo-login-link').style.display = 'block';
                }
            }, 3000);
            
            // Prevenir envio de formul√°rios
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                });
            });
        });
    </script>
</body>
</html>